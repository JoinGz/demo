<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <canvas width="800" height="600"></canvas>
</body>
<script>
  const canvas = document.querySelector("canvas")
  const ctx = canvas.getContext("2d")
  const img = new Image()
  img.src = './test.png'
  img.onload = function () {
    // ctx.scale(10, 10)
    // ctx.translate(50,50)
    // ctx.drawImage(img, 0 , 0)
    // ctx.fillRect(300,300,100,100)
    var x = 0
    document.onclick = function () {
      ctx.save()
      ctx.translate(0, -x)
      ctx.clearRect(0,0,800,600)
      ctx.drawImage(img, 0 , 0,)
      ctx.drawImage(img, 80 , 0,)
      x++
      if (x > 800) {
        x = 0
      }
      ctx.restore()
    }
    // setTimeout(() => {
    //   ctx.save()
    //   ctx.translate(-x, 0)
    //   ctx.clearRect(0,0,800,600)
    //   ctx.drawImage(img, 0 , 0)
    //   ctx.drawImage(img, 800 , 0)
    //   x++
    //   if (x > 800) {
    //     x = 0
    //   }
    //   ctx.restore()
    // }, 16.67);
  }
</script>
</html>